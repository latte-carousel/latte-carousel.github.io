/*!
 * Latte-Carousel v1.0.1
 * https://github.com/latte-carousel/latte-carousel
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.latte=e():t.latte=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=function(){function t(t){if(this.count=3,this.padding=0,this.touch=!1,this.buttons=!0,this.dots=!1,this.rewind=!0,this.autoplay=0,null!=t){for(var e in t)t.hasOwnProperty(e)&&"responsive"!==e&&(this[e]=t[e]);null!=t.responsive&&(this.responsive=new i.ResponsiveMap(t.responsive,this))}}return t.prototype.getBreakpointOptions=function(){if(null==this.responsive)return this;var t=window.innerWidth||document.body.clientWidth,e=null,n=0;for(var i in this.responsive)if(this.responsive.hasOwnProperty(i)){var o=this.responsive[i],s=parseInt(i,10);s>=n&&s<=t&&(e=o,n=s)}return e},t}();e.Options=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){var n=this.listeners[t];null==n&&(this.listeners[t]=n=[]),n.push(e)},t.prototype.trigger=function(t,e){var n=this.listeners[t];if(null!=n)for(var i=0,o=n;i<o.length;i++){(0,o[i])(e)}},t}();e.EventEmitter=i},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.contentElement=t,this.stage=e,this.options=n,this.firstX=0,this.previousX=0,this.previousY=0,this.distanceX=0,this.distanceY=0,this.minDistance=20,this.state="free",this.contentElement.addEventListener("touchstart",this.onTouchStart.bind(this),{passive:!0}),this.contentElement.addEventListener("touchmove",this.onTouchMove.bind(this)),this.contentElement.addEventListener("touchend",this.onTouchEnd.bind(this),{passive:!0}),this.update()}return t.prototype.update=function(){this.currentOptions=this.options.getBreakpointOptions()},t.prototype.onTouchStart=function(t){var e=t.touches[0];this.firstX=this.previousX=e.clientX,this.previousY=e.clientY,this.distanceX=this.distanceY=0},t.prototype.onTouchMove=function(t){var e=t.touches[0],n=e.clientX-this.previousX,i=e.clientY-this.previousY;this.distanceX+=Math.abs(n),this.distanceY+=Math.abs(i);var o=this.distanceX>this.minDistance||this.distanceY>this.minDistance,s=this.distanceX>this.distanceY;this.currentOptions.touch&&("free"===this.state&&o&&(this.state=s?"drag":"lock"),"drag"===this.state&&(t.cancelable&&t.preventDefault(),this.stage.drag(n))),this.previousX=e.clientX,this.previousY=e.clientY},t.prototype.onTouchEnd=function(t){var e=this.firstX>this.previousX;(this.currentOptions.touch||"drag"===this.state)&&(this.state="free",this.stage.dragEnd(e))},t}();e.Touch=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.carouselElement=t,this.stage=e,this.options=n,this.createContainer(),this.update()}return t.prototype.update=function(){this.currentOptions=this.options.getBreakpointOptions(),!0===this.currentOptions.dots?(this.dotsContainer.className="latte-dots",this.createDots(),this.updateActive()):this.dotsContainer.className="latte-dots invisible"},t.prototype.createContainer=function(){this.dotsContainer=document.createElement("div"),this.dotsContainer.className="latte-dots",this.carouselElement.appendChild(this.dotsContainer)},t.prototype.createDots=function(){var t=this.dotCount();if(null==this.dots||this.dots.length!==t){for(var e="",n=0;n<t;n++){var i=n*Math.ceil(this.currentOptions.count);e+='<div class="latte-dot" data-index='+(i=Math.min(i,this.stage.last()))+"></div>"}this.dotsContainer.innerHTML=e,this.dots=this.dotsContainer.querySelectorAll(".latte-dot");for(n=0;n<this.dots.length;n++){this.dots[n].addEventListener("click",this.onDotClick.bind(this))}}},t.prototype.updateActive=function(){for(var t=0;t<this.dots.length;t++){var e=this.dots[t],n=parseFloat(e.getAttribute("data-index")),i=void 0;if(t+1<this.dots.length){var o=this.dots[t+1];i=parseFloat(o.getAttribute("data-index"))}var s="latte-dot"+(this.stage.current()>=n&&(null==i||this.stage.current()<i)?" active":"");e.setAttribute("class",s)}},t.prototype.dotCount=function(){return Math.ceil(this.stage.count()/Math.ceil(this.currentOptions.count))},t.prototype.onDotClick=function(t){var e=t.target,n=parseFloat(e.getAttribute("data-index"));this.stage.moveTo(n),this.updateActive()},t}();e.Dots=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.carouselElement=t,this.contentElement=e,this.stage=n,this.options=i,this.previousButton=this.createButton("latte-previous"),this.nextButton=this.createButton("latte-next"),this.carouselElement.insertBefore(this.previousButton,this.contentElement),this.carouselElement.appendChild(this.nextButton),this.previousButton.addEventListener("click",this.onPreviousClick.bind(this)),this.nextButton.addEventListener("click",this.onNextClick.bind(this)),this.update()}return t.prototype.update=function(){this.currentOptions=this.options.getBreakpointOptions(),!0===this.currentOptions.buttons?(this.previousButton.className="latte-previous",this.nextButton.className="latte-next"):(this.previousButton.className="latte-previous invisible",this.nextButton.className="latte-next invisible")},t.prototype.createButton=function(t){var e=document.createElement("div");return e.className=t,e},t.prototype.onPreviousClick=function(t){this.stage.move(-1)},t.prototype.onNextClick=function(t){this.stage.move(1)},t}();e.Buttons=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.contentElement=t,this.stage=e,this.options=n,this.intervalId=0,this.mouseOver=!1,this.contentElement.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.contentElement.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.update()}return t.prototype.update=function(){this.currentOptions=this.options.getBreakpointOptions(),this.intervalId>0&&clearInterval(this.intervalId),this.currentOptions.autoplay>0&&(this.intervalId=setInterval(this.onInterval.bind(this),this.currentOptions.autoplay))},t.prototype.remove=function(){this.intervalId>0&&clearInterval(this.intervalId)},t.prototype.onInterval=function(){this.mouseOver||this.stage.move(1)},t.prototype.onMouseEnter=function(){this.mouseOver=!0},t.prototype.onMouseLeave=function(){this.mouseOver=!1},t}();e.Autoplay=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.translate=function(t,e,n,i){var o=this,s=this.getTranslate(t);this.animate(i,function(i){var r={x:o.interpolate(s.x,e,i),y:o.interpolate(s.y,n,i)};o.setTranslate(t,r)})},t.animate=function(t,e){var n=this;if(0!==t){var i=(new Date).getTime(),o=function(){var s=((new Date).getTime()-i)/t,r=Math.min(s,1);e(r),r<1&&n.requestFrame(o)};this.requestFrame(o)}else e(1)},t.getTranslate=function(t){var e={x:0,y:0},n=t.style["-ms-transform"]||t.style.transform;if(null!=n){var i=/translate\(([0-9.-]+)px,\s?([0-9.-]+)px\)/.exec(n);null!=i&&(e.x=parseFloat(i[1]),e.y=parseFloat(i[2]))}return e},t.setTranslate=function(t,e){var n="translate("+Math.ceil(e.x)+"px, "+Math.ceil(e.y)+"px)";t.style["-ms-transform"]=n,t.style.transform=n},t.requestFrame=function(t){null!=requestAnimationFrame?requestAnimationFrame(t):window.setTimeout(t,1e3/60)},t.interpolate=function(t,e,n){return this.easeInOutQuad(n,t,e-t,1)},t.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},t}();e.Tween=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(8),r=function(t){function e(e,n,i,o){var s=t.call(this)||this;return s.contentElement=e,s.stageElement=n,s.itemElements=i,s.options=o,s.currentIndex=0,s.currentPosition=0,s.update(),s}return i(e,t),e.prototype.update=function(){this.currentOptions=this.options.getBreakpointOptions(),this.contentSize=this.contentElement.getBoundingClientRect().width,this.itemSize=this.contentSize/this.currentOptions.count,this.stageSize=this.itemSize*this.itemElements.length;for(var t=0;t<this.itemElements.length;t++)this.itemElements[t].style.width=this.itemSize+"px";this.stageElement.style.width=this.stageSize+"px",this.move(0,!1)},e.prototype.move=function(t,e){void 0===e&&(e=!0),this.moveTo(this.currentIndex+t,e)},e.prototype.moveTo=function(t,e){void 0===e&&(e=!0);var n=this.last();this.currentOptions.rewind&&(t%=n+1)<0&&(t=n+1+t),this.currentIndex=t,this.currentIndex=Math.min(Math.max(0,this.currentIndex),n),this.currentPosition=this.currentIndex*this.itemSize*-1;var i=e?300:0;s.Tween.translate(this.stageElement,this.currentPosition,0,i),this.trigger("move")},e.prototype.drag=function(t){var e=this.last()*this.itemSize*-1;this.currentPosition+=t,this.currentPosition=Math.min(Math.max(e,this.currentPosition),0),s.Tween.translate(this.stageElement,this.currentPosition,0,0)},e.prototype.dragEnd=function(t){this.currentIndex=t?Math.ceil(Math.abs(this.currentPosition)/this.itemSize):Math.floor(Math.abs(this.currentPosition)/this.itemSize),this.move(0)},e.prototype.count=function(){return this.itemElements.length},e.prototype.current=function(){return this.currentIndex},e.prototype.last=function(){return this.itemElements.length-this.currentOptions.count},e}(o.EventEmitter);e.Stage=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(){return function(t,e){if(null!=t)for(var n in t)if(t.hasOwnProperty(n)){var o=new i.Options(t[n]);if(null!=e)for(var s in e)e.hasOwnProperty(s)&&"responsive"!==s&&null==t[n][s]&&(o[s]=e[s]);this[n]=o}}}();e.ResponsiveMap=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(0),r=n(9),a=n(7),u=n(6),c=n(5),h=n(4);n(3);var l=function(t){function e(e,n){var i=t.call(this)||this;if(i.carouselElement=document.querySelector(e),null==i.carouselElement)throw new Error("Missing root latte-carousel element.");return i.createContainers(),i.contentElement=i.carouselElement.querySelector(".latte-content"),i.stageElement=i.contentElement.querySelector(".latte-stage"),i.itemElements=i.stageElement.querySelectorAll(".latte-item"),i.options=new s.Options(n),i.stage=new r.Stage(i.contentElement,i.stageElement,i.itemElements,i.options),i.touch=new h.Touch(i.contentElement,i.stage,i.options),i.buttons=new u.Buttons(i.carouselElement,i.contentElement,i.stage,i.options),i.dots=new c.Dots(i.carouselElement,i.stage,i.options),i.autoplay=new a.Autoplay(i.contentElement,i.stage,i.options),i.onWindowResizeListener=i.onWindowResize.bind(i),window.addEventListener("resize",i.onWindowResizeListener),i.stage.on("move",i.onStageMove.bind(i)),i.update(),i.on("previous",i.onCarouselPrevious.bind(i)),i.on("next",i.onCarouselNext.bind(i)),i.on("goto",i.onCarouselGoto.bind(i)),i}return i(e,t),e.prototype.remove=function(){this.autoplay.remove(),window.removeEventListener("resize",this.onWindowResizeListener),this.carouselElement.remove()},e.prototype.createContainers=function(){this.carouselElement.innerHTML='\n            <div class="latte-content">\n                <div class="latte-stage">\n                    '+this.carouselElement.innerHTML+"\n                </div>\n            </div>\n        "},e.prototype.update=function(){this.stage.update(),this.touch.update(),this.buttons.update(),this.dots.update(),this.autoplay.update()},e.prototype.onWindowResize=function(t){this.update()},e.prototype.onStageMove=function(t){this.dots.update()},e.prototype.onCarouselPrevious=function(t){this.stage.move(-1)},e.prototype.onCarouselNext=function(t){this.stage.move(1)},e.prototype.onCarouselGoto=function(t){this.stage.moveTo(t)},e}(o.EventEmitter);e.Carousel=l}])});
//# sourceMappingURL=latte-carousel.min.js.map